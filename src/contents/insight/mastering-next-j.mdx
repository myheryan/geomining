---
title: "Mastering Next.js: Implementasi Navigasi ScrollSpy dan MDX"
publishedAt: "2026-02-16"
category: "Web Development"
tags: ["Next.js", "MDX", "TypeScript", "Tailwind"]
description: "Panduan mendalam membangun sistem navigasi artikel yang dinamis dengan ScrollSpy, Table of Contents, dan Progress Bar."
---

Navigasi adalah tulang punggung dari sebuah blog teknis. Tanpa navigasi yang jelas, pembaca akan kesulitan menemukan poin penting dalam artikel yang panjang. Dalam panduan ini, kita akan membedah bagaimana fitur navigasi yang kita bangun bekerja di balik layar.

## Mengapa Menggunakan ScrollSpy?

ScrollSpy memberikan *feedback* visual instan kepada pembaca. Saat mereka melakukan scroll, indikator di sidebar akan mengikuti posisi mereka secara *real-time*.

### Peningkatan User Experience (UX)
Dengan ScrollSpy, pembaca tidak perlu menebak seberapa jauh mereka telah membaca. Ini memberikan kesan aplikasi yang responsif dan modern, serupa dengan dokumentasi resmi Tailwind CSS atau Stripe.

### Aksesibilitas Navigasi
Pembaca dapat dengan mudah melompat antar bab (chapter) tanpa harus melakukan scroll manual ke atas. Ini sangat krusial untuk artikel yang memiliki lebih dari 2.000 kata.



## Bedah Arsitektur Navigasi

Sistem navigasi kita terdiri dari tiga komponen utama yang saling bekerja sama secara harmonis.

### 1. Intersection Observer API
Kita menggunakan *Intersection Observer* alih-alih *scroll event listener* biasa. Mengapa? Karena API ini jauh lebih efisien dan tidak menyebabkan "jank" atau penurunan performa saat scroll dilakukan dengan cepat.

### 2. Rehype Slug & Autolink
Tanpa ID yang unik pada setiap heading, ScrollSpy tidak akan berfungsi. Plugin `rehype-slug` secara otomatis mengubah judul seperti "Bedah Arsitektur" menjadi `<h2 id="bedah-arsitektur">`.

### 3. Framer Motion LayoutId
Untuk animasi "Active Pill" di sidebar, kita menggunakan `layoutId`. Ini memungkinkan transisi antar bab terlihat seperti elemen yang meluncur mulus, bukan sekadar berganti warna.

## Implementasi Kode Enterprise

Berikut adalah potongan kode yang kita gunakan untuk menginisialisasi **ScrollSpy** di halaman blog kita:

```typescript {1, 5-7} showLineNumbers
// Inisialisasi Hook di [slug].tsx
const activeSection = useScrollSpy("h2, h3", { offset: 120 });

// Logika ini memastikan:
// 1. Elemen dipantau dengan Intersection Observer.
// 2. State diperbarui hanya saat elemen masuk area aktif.
// 3. Performa tetap stabil di 60fps.